generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Hero {
  id            Int     @id
  name          String?
  mainJob       String?
  recommendRoad String?
  image         String?

  counters  HeroCounter[] @relation("HeroCounters")
  counterOf HeroCounter[] @relation("CounterRelations")
  synergies HeroSynergy[] @relation("HeroSynergies")
  synergyOf HeroSynergy[] @relation("SynergyRelations")
}

model HeroCounter {
  id        Int     @id @default(autoincrement())
  heroId    Int
  counterId Int
  reason    String?

  hero    Hero @relation("HeroCounters", fields: [heroId], references: [id], onDelete: Cascade)
  counter Hero @relation("CounterRelations", fields: [counterId], references: [id], onDelete: Cascade)
}

model HeroSynergy {
  id        Int     @id @default(autoincrement())
  heroId    Int
  synergyId Int
  reason    String?

  hero    Hero @relation("HeroSynergies", fields: [heroId], references: [id], onDelete: Cascade)
  synergy Hero @relation("SynergyRelations", fields: [synergyId], references: [id], onDelete: Cascade)
}
